"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[199],{7199:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var a=o(6598),n={key:0,class:"transition-opacity top-0 left-0 min-h-full min-w-full z-auto bg-black bg-opacity-40 absolute overflow-y-scroll"},r={class:"flex items-center justify-center min-h-screen"},l={class:"relative px-4 w-full max-w-2xl"},c={class:"relative bg-white rounded-lg shadow"},s={class:"flex justify-between items-start p-3 rounded-t border-b"},i={class:"text-xl font-semibold text-gray-900 lg:text-2xl"},u={class:"relative z-0 left-20 mt-2 mb-5 w-full group"},d=(0,a.createElementVNode)("label",{for:"name",class:"absolute text-base text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-100 peer-focus:-translate-y-6"},"Nombre de la categoría *",-1),p={class:"flex items-center p-3 space-x-2 rounded-b border-t"};var m=o(9669),f=o.n(m),h=o(1678);const v={directives:{focus:{mounted:function(e){return e.focus()}}},props:{modalButtons:{type:String,default:"register"},showModal:{type:Boolean,default:!1},selectedAccount:{type:Object,default:null},id_company:{type:Number,default:null}},data:function(){return{name:""}},watch:{selectedAccount:function(){var e;this.name=null===(e=this.selectedAccount)||void 0===e?void 0:e.name}},methods:{cancel:function(){this.$emit("cancel")},update:function(){var e=this;h.Notify.init({clickToClose:!0});var t={id_account:this.selectedAccount.id_account,name:this.name,id_company:this.id_company};f().post(route("accounts.api.update",t)).catch((function(e){for(var t in null==e||null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.errors){var o,a;console.log(e.response.data.errors),e.response.data.errors[t][0]!=e.response.data.message?h.Notify.failure(e.response.data.errors[t][0]):h.Notify.failure(e.response.data.message)}})).then((function(t){var o;null!=t&&null!==(o=t.data)&&void 0!==o&&o.success&&(h.Notify.success("Categoría actualizada con éxito"),e.$emit("created"),e.cancel())}))},create:function(){var e=this;h.Notify.init({clickToClose:!0});var t={id_company:this.id_company,name:this.name};this.selectedAccount!={}&&(t.id_parent=this.selectedAccount.id_account),""!=this.name?f().post(route("accounts.api.create",t)).catch((function(e){for(var t in null==e||null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.errors){var o,a;console.log(e.response.data.errors),e.response.data.errors[t][0]!=e.response.data.message?h.Notify.failure(e.response.data.errors[t][0]):h.Notify.failure(e.response.data.message)}})).then((function(t){var o;null!=t&&null!==(o=t.data)&&void 0!==o&&o.success&&(e.$emit("created"),e.name="",e.cancel(),h.Notify.success("Categoría creada con éxito"))})):h.Notify.failure("El nombre no puede estar vacio")}}};const y=(0,o(3744).Z)(v,[["render",function(e,t,o,m,f,h){var v=(0,a.resolveDirective)("focus");return o.showModal?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("h3",i,(0,a.toDisplayString)("edit"==o.modalButtons?"Editando categoría ":"Añadiendo a ")+" "+(0,a.toDisplayString)(o.selectedAccount.name?o.selectedAccount.label:"Raiz"),1)]),(0,a.createElementVNode)("div",u,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.name=e}),autocomplete:"off",type:"text",class:"block py-2.5 px-0 text-xl w-3/4 text-black bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"20",onkeypress:"return /[A-Z 0-9]/i.test(event.key)",placeholder:" ",required:""},null,512),[[v],[a.vModelText,f.name]]),d]),(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("button",{onClick:t[1]||(t[1]=function(){return h.cancel&&h.cancel.apply(h,arguments)}),type:"button",class:"text-white bg-red-600 hover:bg-red-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Cancelar "),"register"==o.modalButtons?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:0,onClick:t[2]||(t[2]=function(){return h.create&&h.create.apply(h,arguments)}),type:"button",class:"text-white bg-green-600 hover:bg-green-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Registrar ")):(0,a.createCommentVNode)("",!0),"edit"==o.modalButtons?((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,onClick:t[3]||(t[3]=function(){return h.update&&h.update.apply(h,arguments)}),type:"button",class:"text-white bg-yellow-400 hover:bg-yellow-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Editar ")):(0,a.createCommentVNode)("",!0)])])])])])):(0,a.createCommentVNode)("",!0)}]])}}]);