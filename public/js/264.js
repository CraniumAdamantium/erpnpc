"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[264],{2264:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var o=a(6598),l=(0,o.createElementVNode)("h1",{class:"text-center text-white pt-8 text-2xl"},"Lista de empresas",-1),n={key:0,class:"container mx-auto rounded-lg pt-8"},d={class:"columns-2"},i=(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("h2",{class:"text-white"},"Botones de reporte ac√°")],-1),r={class:"flex justify-end"},u={class:"p-input-icon-right"},c=(0,o.createElementVNode)("i",{class:"pi pi-search"},null,-1),s=(0,o.createTextVNode)(" No hay empresas. ");var m=a(5247),f=a(9418),p=a(6076),V=a(2797),h=a(4325),N=a(6358),C=a(9669),v=a.n(C),w=a(1678);const x={emits:{"update-data":"updateData"},name:"CompanySelect",components:{DataTable:f.Z,Column:m.Z,InputText:p.Z,ToggleButton:V.Z,Button:h.Z},props:{companies:JSON},mounted:function(){this.setCompanies()},data:function(){return{loaded:!1,companiesOk:"",checkedShowButton:!1,filters:{global:{value:null,matchMode:N.a6.CONTAINS}}}},watch:{companies:function(){this.setCompanies()}},methods:{update:function(e,t){var a=this;v().post(route("companies.api.update"),e).then((function(e){e.data.success?w.Notify.success("Se ha actualizado la empresa"):w.Notify.failure("Error al actualizar"),"name"==t.field&&a.$emit("update-data",t.newData[t.field]),a.$emit("update-data")})).catch((function(e){w.Notify.failure("Error al actualizar"),console.log(e)}))},setCompanies:function(){this.companiesOk=this.companies.companies,this.loaded=!0},onCellEditComplete:function(e){if(e.data[e.field]!=e.newData[e.field]){var t={id_company:e.data.id_company};t[e.field]=e.newData[e.field].toString(),this.update(t,e)}}}};const M=(0,a(3744).Z)(x,[["render",function(e,t,a,m,f,p){var V=(0,o.resolveComponent)("InputText"),h=(0,o.resolveComponent)("Column"),N=(0,o.resolveComponent)("DataTable");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[l,f.loaded?((0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createElementVNode)("div",d,[i,(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("span",u,[c,(0,o.createVNode)(V,{id:"search",modelValue:f.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.filters.global.value=e})},null,8,["modelValue"])])])]),(0,o.createVNode)(N,{value:f.companiesOk,dataKey:"id_company",paginator:!0,rows:10,editMode:"cell",onCellEditComplete:p.onCellEditComplete,responsiveLayout:"scroll",filters:f.filters,"onUpdate:filters":t[1]||(t[1]=function(e){return f.filters=e})},{empty:(0,o.withCtx)((function(){return[s]})),default:(0,o.withCtx)((function(){return[(0,o.createVNode)(h,{field:"name",header:"Nombre",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"nit",header:"Nit",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"initials",header:"Iniciales",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"level",header:"Nivel",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"phone",header:"Telefono",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"email",header:"Correo",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),(0,o.createVNode)(h,{field:"address",header:"Direccion",sortable:!0,filterMatchMode:"contains"},{editor:(0,o.withCtx)((function(e){return[(0,o.createVNode)(V,{modelValue:e.data[e.field],"onUpdate:modelValue":function(t){return e.data[e.field]=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1})]})),_:1},8,["value","onCellEditComplete","filters"])])):(0,o.createCommentVNode)("",!0)],64)}]])}}]);